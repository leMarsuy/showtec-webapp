<main class="flex flex-col min-h-screen bg-gray-800">
  <!-- Navbar -->
  <section class="sticky top-0 z-10 flex w-full bg-white shadow-sm">
    <div class="flex items-center grow ml-4 py-4">
      <img [src]="logoSrc" class="w-auto h-7" />
    </div>

    <div class="flex items-center bg-rose-500 p-4 text-white">
      <div class="rounded-lg w-auto flex px-2.5">
        <span class="inline-flex items-center">
          <mat-icon fontIcon="menu" class="cursor-pointer block md:hidden" />
        </span>
      </div>

      <mat-menu #menu="matMenu">
        <button mat-menu-item (click)="onLogout()">Logout</button>
      </mat-menu>
    </div>
  </section>

  <!-- Portal -->
  <section class="w-full mb-4">
    <div class="rounded-md bg-white m-4 flex items-center px-2 py-2.5 gap-2">
      <mat-icon fontIcon="checklist" />
      <span class="">Delivery Releasing</span>
    </div>

    <div class="rounded-md bg-white mx-4 mt-4 p-4 flex flex-col">
      <div class="mb-4 flex items-center justify-between">
        <button mat-stroked-button (click)="onScannerOpen()">
          {{ pdfData ? "Scan New QR" : "Scan QR" }}
        </button>
      </div>

      @if (pdfData) {
        <div class="flex h-full">
          <ng2-pdfjs-viewer
            [pdfSrc]="pdfData"
            [download]="false"
            [print]="false"
            [openFile]="false"
            [viewBookmark]="false"
            class="block h-[65vh] w-full"
          ></ng2-pdfjs-viewer>
        </div>
      } @else {
        <div class="bg-gray-400 h-[55vh]"><br /></div>
      }

      <button
        mat-flat-button
        class="block ml-auto mt-2.5 w-fit"
        [disabled]="!outDelivery || outDelivery.status === 'Released'"
      >
        Mark as Released
      </button>
    </div>
  </section>
</main>
